<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        function setCookie(key,val,time){
            //看有没有设置声明周期
            if(time){//如果有设置
                
                let o = new Date;//创建一个时间
                // o.setMinutes(new Date().getMinutes()+time)
                let t;
                let prop;
                for(let attr in time.setTime){
                    t = attr[0].toUpperCase()+attr.substr(1);
                    prop = attr
                }
                //o.setDate(new Date().getDate()+1)比今天多一天
                o['set'+t](new Date()['get'+t]()+time.setTime[prop]);

                document.cookie = key + '=' + val +'; expires='+o
            }else{
                document.cookie=key+'='+val
            }
        }
        onstorage = function(){
            // console.log(111111111)
            console.log(localStorage.getItem('user'))
        }
        
    </script>
</body>
</html>